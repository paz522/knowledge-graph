(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5175:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>c});var a=t(482),r=t(9108),l=t(2563),n=t.n(l),i=t(8300),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(s,d);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,751)),"C:\\Users\\kobap\\Desktop\\MVP\\knowledge-graph\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,6440)),"C:\\Users\\kobap\\Desktop\\MVP\\knowledge-graph\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\kobap\\Desktop\\MVP\\knowledge-graph\\app\\page.tsx"],x="/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7982:(e,s,t)=>{Promise.resolve().then(t.bind(t,1366))},1366:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>z});var a=t(5344),r=t(3729),l=t(6212),n=t(1351),i=t(5299),d=t(5870),c=t(9224);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,c.Z)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);var x=t(8852),m=t(4038),h=t(1838),p=t(5700);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,c.Z)("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),g=(0,c.Z)("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);var f=t(2312),j=t(6506),N=t(9410),y=t(6336),b=t(2434),v=t(7143),w=t(4765),k=t(6614),C=t(9553),S=t(5092),D=t(8428),Z=t(2993);function P({onStartApp:e}){let s=(0,D.useSearchParams)();return(0,r.useEffect)(()=>{"true"===s.get("startApp")&&e(!0)},[s,e]),null}function z(){let{t:e}=(0,w.Z)(),{toast:s}=(0,S.pm)(),[t,c]=(0,r.useState)(!1),[D,z]=(0,r.useState)(!1),[A,_]=(0,r.useState)(!1),[M,q]=(0,r.useState)([]),[O,$]=(0,r.useState)([]),[E,F]=(0,r.useState)([]),[G,R]=(0,r.useState)(!1),[V,I]=(0,r.useState)([]),[L,U]=(0,r.useState)(!0);(0,r.useEffect)(()=>{},[]),(0,r.useEffect)(()=>{let t=async()=>{if(M.length>=2){let t=M[M.length-1],a=M.slice(0,M.length-1),r=`以下の新しいノードと既存のノードの関連性を評価してください。関連性の強さを0から1の間で評価し、0.5以上の関連性があるノードのIDと関連性の強さをJSON形式で返してください。

新しいノード:
ID: ${t.id}
タイトル: ${t.title}
内容: ${t.content}
タグ: ${t.tags.join(", ")}

既存のノード:
${a.map(e=>`ID: ${e.id}
タイトル: ${e.title}
内容: ${e.content}
タグ: ${e.tags.join(", ")}
---`).join("\n")}

返答形式:
{
  "relationships": [
    {"source": "新しいノードID", "target": "関連ノードID", "value": 関連性の強さ(0.5から1の間の数値)},
    ...
  ]
}`;try{let t=await (0,Z.oJ)(r),a=(0,Z.qj)(t);console.log("Cleaned AI response:",a);let l=JSON.parse(a);if(l.relationships&&l.relationships.length>0){let t=l.relationships.map(e=>({source:e.source,target:e.target,value:e.value}));$(e=>[...e,...t]),s({title:e("relationshipsAnalyzed"),description:e("aiFoundRelationships").replace("{count}",t.length.toString()),duration:3e3})}}catch(e){console.error("Error analyzing relationships:",e)}}};M.length>1&&t()},[M.length,s,e]);let H=async()=>{_(!0)};return(0,a.jsxs)("div",{className:"flex flex-col min-h-screen",children:[a.jsx(k.SiteHeader,{}),a.jsx(r.Suspense,{fallback:null,children:a.jsx(P,{onStartApp:c})}),a.jsx("main",{className:"flex-1 flex flex-col pt-16",children:t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b bg-background",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(l.z,{variant:"outline",size:"icon",onClick:()=>U(!L),children:a.jsx(m.Z,{className:"h-4 w-4"})}),a.jsx(j.default,{href:"/",className:"inline-flex items-center gap-2 hover:text-primary transition-colors",children:a.jsx("h1",{className:"text-lg font-medium",children:e("knowledgeFlow")})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(l.z,{variant:"outline",size:"sm",className:"gap-1.5",onClick:()=>z(!0),children:[a.jsx(h.Z,{className:"h-4 w-4"}),e("addNode")]}),(0,a.jsxs)(l.z,{variant:"outline",size:"sm",className:"gap-1.5",onClick:H,children:[a.jsx(p.Z,{className:"h-4 w-4"}),e("askAi")]})]})]}),(0,a.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[L&&(0,a.jsxs)("div",{className:"w-64 border-r bg-muted/20 overflow-auto p-4",children:[a.jsx("h3",{className:"font-medium mb-3",children:e("recentlyAdded")}),a.jsx("div",{className:"space-y-2",children:E.length>0?E.map(e=>(0,a.jsxs)("div",{className:"bg-background rounded-md p-3 border node-card cursor-pointer hover:bg-muted/40",children:[a.jsx("h4",{className:"font-medium text-sm truncate",children:e.title}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:e.content}),e.tags.length>0&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.tags.slice(0,2).map((e,s)=>a.jsx("span",{className:"text-[10px] bg-primary/10 text-primary px-1.5 py-0.5 rounded",children:e},s)),e.tags.length>2&&(0,a.jsxs)("span",{className:"text-[10px] bg-muted text-muted-foreground px-1.5 py-0.5 rounded",children:["+",e.tags.length-2]})]})]},e.id)):a.jsx("div",{className:"text-sm text-muted-foreground",children:e("noNodesYet")})})]}),a.jsx("div",{className:"flex-1 overflow-auto p-2",children:a.jsx(v.G,{nodes:M,recentNodes:E,links:O})})]})]}):a.jsx("div",{className:"container flex-1 flex flex-col items-center justify-center py-12 text-center",children:(0,a.jsxs)("div",{className:"space-y-6 max-w-3xl",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tighter sm:text-5xl",children:e("appPurpose")}),a.jsx("p",{className:"text-gray-500 md:text-xl/relaxed lg:text-base/relaxed xl:text-xl/relaxed dark:text-gray-400",children:e("appPurposeDescription")})]}),(0,a.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,a.jsxs)(l.z,{onClick:()=>{c(!0)},className:"gap-2",children:[e("startNow"),a.jsx(i.Z,{className:"h-4 w-4"})]}),a.jsx(l.z,{variant:"outline",asChild:!0,children:a.jsx(j.default,{href:"/features",children:e("learnMore")})})]}),a.jsx("div",{className:"mx-auto max-w-3xl aspect-video overflow-hidden rounded-xl border bg-muted/50",children:a.jsx(N.default,{src:"/images/knowledge-graph-placeholder.svg",alt:e("knowledgeGraphConcept"),width:800,height:450,className:"object-contain w-full h-full"})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 py-8",children:[(0,a.jsxs)(n.Zb,{className:"p-6 card-gradient",children:[a.jsx(d.Z,{className:"h-12 w-12 text-primary mb-4"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:e("featureConnections")}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:e("featureConnectionsDesc")})]}),(0,a.jsxs)(n.Zb,{className:"p-6 card-gradient",children:[a.jsx(o,{className:"h-12 w-12 text-primary mb-4"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:e("featureOrganize")}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:e("featureOrganizeDesc")})]}),(0,a.jsxs)(n.Zb,{className:"p-6 card-gradient",children:[a.jsx(x.Z,{className:"h-12 w-12 text-primary mb-4"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:e("featureCollaborate")}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:e("featureCollaborateDesc")})]})]})]})})}),a.jsx(C.SiteFooter,{}),a.jsx(y.P,{isOpen:D,onClose:()=>z(!1),onSave:e=>{let s={id:Date.now().toString(),title:e.title,content:e.content,tags:e.tags,createdAt:new Date,updatedAt:new Date,position:{x:0,y:0},type:"text"};q(e=>[...e,s]),F(e=>[s,...e])}}),a.jsx(b.j,{isOpen:A,onClose:()=>_(!1),onSaveAsNode:(e,s)=>{let t={id:Date.now().toString(),title:e,content:s,tags:[],createdAt:new Date,updatedAt:new Date,position:{x:0,y:0},type:"text"};q(e=>[...e,t]),F(e=>[t,...e].slice(0,5)),_(!1)}}),(0,a.jsxs)("section",{className:"container py-12 md:py-24 lg:py-32 space-y-12",children:[(0,a.jsxs)("div",{className:"mx-auto flex max-w-[58rem] flex-col items-center space-y-4 text-center",children:[a.jsx("h2",{className:"font-bold text-3xl leading-[1.1] sm:text-3xl md:text-5xl",children:e("featuresTitle")}),a.jsx("p",{className:"max-w-[85%] leading-normal text-muted-foreground sm:text-lg sm:leading-7",children:e("featuresDescription")})]}),(0,a.jsxs)("div",{className:"mx-auto grid justify-center gap-4 sm:grid-cols-2 md:max-w-[64rem] md:grid-cols-3",children:[(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-lg border bg-background p-6",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10",children:a.jsx(p.Z,{className:"h-6 w-6 text-primary"})}),a.jsx("h3",{className:"mt-4 font-bold",children:e("featureConnections")}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:e("featureConnectionsDesc")})]}),(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-lg border bg-background p-6",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10",children:a.jsx(u,{className:"h-6 w-6 text-primary"})}),a.jsx("h3",{className:"mt-4 font-bold",children:e("featureOrganize")}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:e("featureOrganizeDesc")})]}),(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-lg border bg-background p-6",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10",children:a.jsx(g,{className:"h-6 w-6 text-primary"})}),a.jsx("h3",{className:"mt-4 font-bold",children:e("featureCollaborate")}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:e("featureCollaborateDesc")})]})]})]}),a.jsx("section",{className:"container py-12 md:py-24 lg:py-32 bg-muted/50 rounded-lg",children:(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2 lg:gap-12 items-center",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl",children:e("knowledgeFlow")}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:e("knowledgeFlowDescription")}),(0,a.jsxs)("ul",{className:"mt-6 space-y-4",children:[(0,a.jsxs)("li",{className:"flex items-center",children:[a.jsx("div",{className:"mr-2 flex h-8 w-8 items-center justify-center rounded-full bg-primary/10",children:a.jsx(f.Z,{className:"h-4 w-4 text-primary"})}),a.jsx("span",{children:e("visualConnections")})]}),(0,a.jsxs)("li",{className:"flex items-center",children:[a.jsx("div",{className:"mr-2 flex h-8 w-8 items-center justify-center rounded-full bg-primary/10",children:a.jsx(f.Z,{className:"h-4 w-4 text-primary"})}),a.jsx("span",{children:e("tagsOrganize")})]}),(0,a.jsxs)("li",{className:"flex items-center",children:[a.jsx("div",{className:"mr-2 flex h-8 w-8 items-center justify-center rounded-full bg-primary/10",children:a.jsx(f.Z,{className:"h-4 w-4 text-primary"})}),a.jsx("span",{children:e("aiAssistance")})]})]}),a.jsx("div",{className:"mt-8",children:a.jsx(j.default,{href:"/knowledge-flow",className:"inline-flex",children:a.jsx(l.z,{children:e("startNow")})})})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"relative h-[500px] w-full overflow-hidden rounded-xl border bg-background p-2",children:a.jsx(N.default,{src:"/images/knowledge-flow-sample.svg",alt:e("knowledgeFlowExample"),fill:!0,className:"object-contain"})})})]})})]})}},7143:(e,s,t)=>{"use strict";t.d(s,{G:()=>c});var a=t(5344),r=t(3729),l=t(7273),n=t(4765);let i=(0,l.default)(async()=>{},{loadableGenerated:{modules:["C:\\Users\\kobap\\Desktop\\MVP\\knowledge-graph\\components\\knowledge-graph-view.tsx -> ./knowledge-graph"]},ssr:!1,loading:()=>a.jsx("div",{className:"flex items-center justify-center h-full w-full min-h-[300px]",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}),d={task:"#22c55e",project:"#3b82f6",meeting:"#a855f7",idea:"#ec4899",note:"#eab308",document:"#64748b",default:"#64748b"};function c({nodes:e,recentNodes:s=[],links:t=[]}){let{t:l}=(0,n.Z)(),[c,o]=(0,r.useState)([]),[x,m]=(0,r.useState)([]),[h,p]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{e.length>0&&!h&&p(!0),(()=>{let s=e.map(e=>{let s="default";if(e.tags&&e.tags.length>0){let t=e.tags[0].startsWith("#")?e.tags[0].substring(1):e.tags[0];Object.keys(d).includes(t)&&(s=t)}return{id:e.id,label:e.title,group:s,tags:e.tags}}),a=[];if(t&&t.length>0)a=t;else if(s.length>1){let e=s[0];a=s.slice(1).map((s,t)=>({source:e.id,target:s.id,value:1}))}o(s),m(a)})()},[e,h,t]),h)?(0,a.jsxs)("div",{className:"knowledge-graph-container min-h-[80vh] w-full rounded-lg border p-3 flex flex-col items-center justify-center overflow-auto",children:[c.length>0&&a.jsx("div",{className:"w-full h-full min-w-full min-h-full",children:a.jsx(i,{nodes:c,links:x,width:"100%",height:"100%"})}),s&&s.length>0&&(0,a.jsxs)("div",{className:"fixed bottom-4 right-4 bg-background border rounded-lg shadow-lg p-3 max-w-xs z-10",children:[a.jsx("h4",{className:"text-sm font-medium mb-2",children:l("recentlyAdded")}),a.jsx("div",{className:"space-y-1.5",children:s.slice(0,3).map(e=>{let s="#64748b";if(e.tags&&e.tags.length>0){let t=e.tags[0].startsWith("#")?e.tags[0].substring(1):e.tags[0];s=Object.keys(d).includes(t)?d[t]:s}return(0,a.jsxs)("div",{className:"flex items-center text-xs bg-muted/40 rounded-md p-1.5 cursor-pointer hover:bg-muted/60",children:[a.jsx("div",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:s}}),a.jsx("span",{className:"truncate",children:e.title})]},e.id)})})]})]}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-[50vh] text-center p-4",children:[a.jsx("div",{className:"text-lg font-medium mb-2",children:l("noNodesYet")}),a.jsx("p",{className:"text-muted-foreground max-w-md",children:l("addFirstNodePrompt")})]})}},1351:(e,s,t)=>{"use strict";t.d(s,{Ol:()=>i,SZ:()=>c,Zb:()=>n,aY:()=>o,eW:()=>x,ll:()=>d});var a=t(5344),r=t(3729),l=t(1626);let n=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));n.displayName="Card";let i=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...s}));i.displayName="CardHeader";let d=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));d.displayName="CardTitle";let c=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",e),...s}));c.displayName="CardDescription";let o=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,l.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent";let x=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",e),...s}));x.displayName="CardFooter"},8852:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},5870:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]])},751:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>r,default:()=>n});let a=(0,t(6843).createProxy)(String.raw`C:\Users\kobap\Desktop\MVP\knowledge-graph\app\page.tsx`),{__esModule:r,$$typeof:l}=a,n=a.default}};var s=require("../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[638,635,222,951,902,993,718],()=>t(5175));module.exports=a})();