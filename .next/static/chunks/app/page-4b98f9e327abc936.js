(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931,230],{1057:function(e,t,s){Promise.resolve().then(s.bind(s,6420))},6420:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return A}});var a=s(3827),l=s(4090),r=s(5754),n=s(7815),i=s(8025),d=s(933),c=s(7461);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,c.Z)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);var x=s(438),m=s(6964),u=s(94),h=s(1472);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let f=(0,c.Z)("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),g=(0,c.Z)("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);var p=s(9259),j=s(8792),N=s(703),y=s(4129),b=s(1669),v=s(6230),w=s(5624),k=s(3803),C=s(8978),S=s(7788),Z=s(7907),z=s(2680);function D(e){let{onStartApp:t}=e,s=(0,Z.useSearchParams)();return(0,l.useEffect)(()=>{"true"===s.get("startApp")&&t(!0)},[s,t]),null}function A(){let{t:e}=(0,w.Z)(),{toast:t}=(0,S.pm)(),[s,c]=(0,l.useState)(!1),[Z,A]=(0,l.useState)(!1),[O,F]=(0,l.useState)(!1),[E,M]=(0,l.useState)([]),[P,R]=(0,l.useState)([]),[I,_]=(0,l.useState)([]),[L,V]=(0,l.useState)(!1),[q,G]=(0,l.useState)([]),[H,J]=(0,l.useState)(!0);(0,l.useEffect)(()=>{},[]),(0,l.useEffect)(()=>{let s=async()=>{if(E.length>=2){let s=E[E.length-1],a=E.slice(0,E.length-1),l="以下の新しいノードと既存のノードの関連性を評価してください。関連性の強さを0から1の間で評価し、0.5以上の関連性があるノードのIDと関連性の強さをJSON形式で返してください。\n\n新しいノード:\nID: ".concat(s.id,"\nタイトル: ").concat(s.title,"\n内容: ").concat(s.content,"\nタグ: ").concat(s.tags.join(", "),"\n\n既存のノード:\n").concat(a.map(e=>"ID: ".concat(e.id,"\nタイトル: ").concat(e.title,"\n内容: ").concat(e.content,"\nタグ: ").concat(e.tags.join(", "),"\n---")).join("\n"),'\n\n返答形式:\n{\n  "relationships": [\n    {"source": "新しいノードID", "target": "関連ノードID", "value": 関連性の強さ(0.5から1の間の数値)},\n    ...\n  ]\n}');try{let s=await (0,z.oJ)(l),a=(0,z.qj)(s);console.log("Cleaned AI response:",a);let r=JSON.parse(a);if(r.relationships&&r.relationships.length>0){let s=r.relationships.map(e=>({source:e.source,target:e.target,value:e.value}));R(e=>[...e,...s]),t({title:e("relationshipsAnalyzed"),description:e("aiFoundRelationships").replace("{count}",s.length.toString()),duration:3e3})}}catch(e){console.error("Error analyzing relationships:",e)}}};E.length>1&&s()},[E.length,t,e]);let W=async()=>{F(!0)};return(0,a.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,a.jsx)(k.SiteHeader,{}),(0,a.jsx)(l.Suspense,{fallback:null,children:(0,a.jsx)(D,{onStartApp:c})}),(0,a.jsx)("main",{className:"flex-1 flex flex-col pt-16",children:s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b bg-background",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(r.z,{variant:"outline",size:"icon",onClick:()=>J(!H),children:(0,a.jsx)(m.Z,{className:"h-4 w-4"})}),(0,a.jsx)(j.default,{href:"/",className:"inline-flex items-center gap-2 hover:text-primary transition-colors",children:(0,a.jsx)("h1",{className:"text-lg font-medium",children:e("knowledgeFlow")})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(r.z,{variant:"outline",size:"sm",className:"gap-1.5",onClick:()=>A(!0),children:[(0,a.jsx)(u.Z,{className:"h-4 w-4"}),e("addNode")]}),(0,a.jsxs)(r.z,{variant:"outline",size:"sm",className:"gap-1.5",onClick:W,children:[(0,a.jsx)(h.Z,{className:"h-4 w-4"}),e("askAi")]})]})]}),(0,a.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[H&&(0,a.jsxs)("div",{className:"w-64 border-r bg-muted/20 overflow-auto p-4",children:[(0,a.jsx)("h3",{className:"font-medium mb-3",children:e("recentlyAdded")}),(0,a.jsx)("div",{className:"space-y-2",children:I.length>0?I.map(e=>(0,a.jsxs)("div",{className:"bg-background rounded-md p-3 border node-card cursor-pointer hover:bg-muted/40",children:[(0,a.jsx)("h4",{className:"font-medium text-sm truncate",children:e.title}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:e.content}),e.tags.length>0&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.tags.slice(0,2).map((e,t)=>(0,a.jsx)("span",{className:"text-[10px] bg-primary/10 text-primary px-1.5 py-0.5 rounded",children:e},t)),e.tags.length>2&&(0,a.jsxs)("span",{className:"text-[10px] bg-muted text-muted-foreground px-1.5 py-0.5 rounded",children:["+",e.tags.length-2]})]})]},e.id)):(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e("noNodesYet")})})]}),(0,a.jsx)("div",{className:"flex-1 overflow-auto p-2",children:(0,a.jsx)(v.KnowledgeGraphView,{nodes:E,recentNodes:I,links:P})})]})]}):(0,a.jsx)("div",{className:"container flex-1 flex flex-col items-center justify-center py-12 text-center",children:(0,a.jsxs)("div",{className:"space-y-6 max-w-3xl",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tighter sm:text-5xl",children:e("appPurpose")}),(0,a.jsx)("p",{className:"text-gray-500 md:text-xl/relaxed lg:text-base/relaxed xl:text-xl/relaxed dark:text-gray-400",children:e("appPurposeDescription")})]}),(0,a.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,a.jsxs)(r.z,{onClick:()=>{c(!0)},className:"gap-2",children:[e("startNow"),(0,a.jsx)(i.Z,{className:"h-4 w-4"})]}),(0,a.jsx)(r.z,{variant:"outline",asChild:!0,children:(0,a.jsx)(j.default,{href:"/features",children:e("learnMore")})})]}),(0,a.jsx)("div",{className:"mx-auto max-w-3xl aspect-video overflow-hidden rounded-xl border bg-muted/50",children:(0,a.jsx)(N.default,{src:"/images/knowledge-graph-placeholder.svg",alt:e("knowledgeGraphConcept"),width:800,height:450,className:"object-contain w-full h-full"})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 py-8",children:[(0,a.jsxs)(n.Zb,{className:"p-6 card-gradient",children:[(0,a.jsx)(d.Z,{className:"h-12 w-12 text-primary mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-bold mb-2",children:e("featureConnections")}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:e("featureConnectionsDesc")})]}),(0,a.jsxs)(n.Zb,{className:"p-6 card-gradient",children:[(0,a.jsx)(o,{className:"h-12 w-12 text-primary mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-bold mb-2",children:e("featureOrganize")}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:e("featureOrganizeDesc")})]}),(0,a.jsxs)(n.Zb,{className:"p-6 card-gradient",children:[(0,a.jsx)(x.Z,{className:"h-12 w-12 text-primary mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-bold mb-2",children:e("featureCollaborate")}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:e("featureCollaborateDesc")})]})]})]})})}),(0,a.jsx)(C.SiteFooter,{}),(0,a.jsx)(y.P,{isOpen:Z,onClose:()=>A(!1),onSave:e=>{let t={id:Date.now().toString(),title:e.title,content:e.content,tags:e.tags,createdAt:new Date,updatedAt:new Date,position:{x:0,y:0},type:"text"};M(e=>[...e,t]),_(e=>[t,...e])}}),(0,a.jsx)(b.j,{isOpen:O,onClose:()=>F(!1),onSaveAsNode:(e,t)=>{let s={id:Date.now().toString(),title:e,content:t,tags:[],createdAt:new Date,updatedAt:new Date,position:{x:0,y:0},type:"text"};M(e=>[...e,s]),_(e=>[s,...e].slice(0,5)),F(!1)}}),(0,a.jsxs)("section",{className:"container py-12 md:py-24 lg:py-32 space-y-12",children:[(0,a.jsxs)("div",{className:"mx-auto flex max-w-[58rem] flex-col items-center space-y-4 text-center",children:[(0,a.jsx)("h2",{className:"font-bold text-3xl leading-[1.1] sm:text-3xl md:text-5xl",children:e("featuresTitle")}),(0,a.jsx)("p",{className:"max-w-[85%] leading-normal text-muted-foreground sm:text-lg sm:leading-7",children:e("featuresDescription")})]}),(0,a.jsxs)("div",{className:"mx-auto grid justify-center gap-4 sm:grid-cols-2 md:max-w-[64rem] md:grid-cols-3",children:[(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-lg border bg-background p-6",children:[(0,a.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10",children:(0,a.jsx)(h.Z,{className:"h-6 w-6 text-primary"})}),(0,a.jsx)("h3",{className:"mt-4 font-bold",children:e("featureConnections")}),(0,a.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:e("featureConnectionsDesc")})]}),(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-lg border bg-background p-6",children:[(0,a.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10",children:(0,a.jsx)(f,{className:"h-6 w-6 text-primary"})}),(0,a.jsx)("h3",{className:"mt-4 font-bold",children:e("featureOrganize")}),(0,a.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:e("featureOrganizeDesc")})]}),(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-lg border bg-background p-6",children:[(0,a.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10",children:(0,a.jsx)(g,{className:"h-6 w-6 text-primary"})}),(0,a.jsx)("h3",{className:"mt-4 font-bold",children:e("featureCollaborate")}),(0,a.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:e("featureCollaborateDesc")})]})]})]}),(0,a.jsx)("section",{className:"container py-12 md:py-24 lg:py-32 bg-muted/50 rounded-lg",children:(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2 lg:gap-12 items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl",children:e("knowledgeFlow")}),(0,a.jsx)("p",{className:"mt-4 text-muted-foreground",children:e("knowledgeFlowDescription")}),(0,a.jsxs)("ul",{className:"mt-6 space-y-4",children:[(0,a.jsxs)("li",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"mr-2 flex h-8 w-8 items-center justify-center rounded-full bg-primary/10",children:(0,a.jsx)(p.Z,{className:"h-4 w-4 text-primary"})}),(0,a.jsx)("span",{children:e("visualConnections")})]}),(0,a.jsxs)("li",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"mr-2 flex h-8 w-8 items-center justify-center rounded-full bg-primary/10",children:(0,a.jsx)(p.Z,{className:"h-4 w-4 text-primary"})}),(0,a.jsx)("span",{children:e("tagsOrganize")})]}),(0,a.jsxs)("li",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"mr-2 flex h-8 w-8 items-center justify-center rounded-full bg-primary/10",children:(0,a.jsx)(p.Z,{className:"h-4 w-4 text-primary"})}),(0,a.jsx)("span",{children:e("aiAssistance")})]})]}),(0,a.jsx)("div",{className:"mt-8",children:(0,a.jsx)(j.default,{href:"/knowledge-flow",className:"inline-flex",children:(0,a.jsx)(r.z,{children:e("startNow")})})})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("div",{className:"relative h-[500px] w-full overflow-hidden rounded-xl border bg-background p-2",children:(0,a.jsx)(N.default,{src:"/images/knowledge-flow-sample.svg",alt:e("knowledgeFlowExample"),fill:!0,className:"object-contain"})})})]})})]})}},6230:function(e,t,s){"use strict";s.r(t),s.d(t,{KnowledgeGraphView:function(){return c}});var a=s(3827),l=s(4090),r=s(4232),n=s(5624);let i=(0,r.default)(()=>Promise.all([s.e(529),s.e(949)]).then(s.bind(s,7949)).then(e=>e.default),{loadableGenerated:{webpack:()=>[7949]},ssr:!1,loading:()=>(0,a.jsx)("div",{className:"flex items-center justify-center h-full w-full min-h-[300px]",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}),d={task:"#22c55e",project:"#3b82f6",meeting:"#a855f7",idea:"#ec4899",note:"#eab308",document:"#64748b",default:"#64748b"};function c(e){let{nodes:t,recentNodes:s=[],links:r=[]}=e,{t:c}=(0,n.Z)(),[o,x]=(0,l.useState)([]),[m,u]=(0,l.useState)([]),[h,f]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{t.length>0&&!h&&f(!0),(()=>{let e=t.map(e=>{let t="default";if(e.tags&&e.tags.length>0){let s=e.tags[0].startsWith("#")?e.tags[0].substring(1):e.tags[0];Object.keys(d).includes(s)&&(t=s)}return{id:e.id,label:e.title,group:t,tags:e.tags}}),s=[];if(r&&r.length>0)s=r;else if(e.length>1){let t=e[0];s=e.slice(1).map((e,s)=>({source:t.id,target:e.id,value:1}))}x(e),u(s)})()},[t,h,r]),h)?(0,a.jsxs)("div",{className:"knowledge-graph-container min-h-[80vh] w-full rounded-lg border p-3 flex flex-col items-center justify-center overflow-auto",children:[o.length>0&&(0,a.jsx)("div",{className:"w-full h-full min-w-full min-h-full",children:(0,a.jsx)(i,{nodes:o,links:m,width:"100%",height:"100%"})}),s&&s.length>0&&(0,a.jsxs)("div",{className:"fixed bottom-4 right-4 bg-background border rounded-lg shadow-lg p-3 max-w-xs z-10",children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-2",children:c("recentlyAdded")}),(0,a.jsx)("div",{className:"space-y-1.5",children:s.slice(0,3).map(e=>{let t="#64748b";if(e.tags&&e.tags.length>0){let s=e.tags[0].startsWith("#")?e.tags[0].substring(1):e.tags[0];t=Object.keys(d).includes(s)?d[s]:t}return(0,a.jsxs)("div",{className:"flex items-center text-xs bg-muted/40 rounded-md p-1.5 cursor-pointer hover:bg-muted/60",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:t}}),(0,a.jsx)("span",{className:"truncate",children:e.title})]},e.id)})})]})]}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-[50vh] text-center p-4",children:[(0,a.jsx)("div",{className:"text-lg font-medium mb-2",children:c("noNodesYet")}),(0,a.jsx)("p",{className:"text-muted-foreground max-w-md",children:c("addFirstNodePrompt")})]})}},7815:function(e,t,s){"use strict";s.d(t,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return n},aY:function(){return o},eW:function(){return x},ll:function(){return d}});var a=s(3827),l=s(4090),r=s(1657);let n=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...l})});n.displayName="Card";let i=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",s),...l})});i.displayName="CardHeader";let d=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",s),...l})});d.displayName="CardTitle";let c=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",s),...l})});c.displayName="CardDescription";let o=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",s),...l})});o.displayName="CardContent";let x=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",s),...l})});x.displayName="CardFooter"},438:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(7461).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},933:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(7461).Z)("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]])}},function(e){e.O(0,[673,632,981,35,291,872,410,971,69,744],function(){return e(e.s=1057)}),_N_E=e.O()}]);