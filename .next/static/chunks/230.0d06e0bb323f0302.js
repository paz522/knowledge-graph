"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[230],{6230:function(e,t,s){s.r(t),s.d(t,{KnowledgeGraphView:function(){return c}});var l=s(3827),a=s(4090),n=s(4232),d=s(5624);let r=(0,n.default)(()=>Promise.all([s.e(529),s.e(949)]).then(s.bind(s,7949)).then(e=>e.default),{loadableGenerated:{webpack:()=>[7949]},ssr:!1,loading:()=>(0,l.jsx)("div",{className:"flex items-center justify-center h-full w-full min-h-[300px]",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}),i={task:"#22c55e",project:"#3b82f6",meeting:"#a855f7",idea:"#ec4899",note:"#eab308",document:"#64748b",default:"#64748b"};function c(e){let{nodes:t,recentNodes:s=[],links:n=[]}=e,{t:c}=(0,d.Z)(),[u,o]=(0,a.useState)([]),[m,h]=(0,a.useState)([]),[f,g]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{t.length>0&&!f&&g(!0),(()=>{let e=t.map(e=>{let t="default";if(e.tags&&e.tags.length>0){let s=e.tags[0].startsWith("#")?e.tags[0].substring(1):e.tags[0];Object.keys(i).includes(s)&&(t=s)}return{id:e.id,label:e.title,group:t,tags:e.tags}}),s=[];if(n&&n.length>0)s=n;else if(e.length>1){let t=e[0];s=e.slice(1).map((e,s)=>({source:t.id,target:e.id,value:1}))}o(e),h(s)})()},[t,f,n]),f)?(0,l.jsxs)("div",{className:"knowledge-graph-container min-h-[80vh] w-full rounded-lg border p-3 flex flex-col items-center justify-center overflow-auto",children:[u.length>0&&(0,l.jsx)("div",{className:"w-full h-full min-w-full min-h-full",children:(0,l.jsx)(r,{nodes:u,links:m,width:"100%",height:"100%"})}),s&&s.length>0&&(0,l.jsxs)("div",{className:"fixed bottom-4 right-4 bg-background border rounded-lg shadow-lg p-3 max-w-xs z-10",children:[(0,l.jsx)("h4",{className:"text-sm font-medium mb-2",children:c("recentlyAdded")}),(0,l.jsx)("div",{className:"space-y-1.5",children:s.slice(0,3).map(e=>{let t="#64748b";if(e.tags&&e.tags.length>0){let s=e.tags[0].startsWith("#")?e.tags[0].substring(1):e.tags[0];t=Object.keys(i).includes(s)?i[s]:t}return(0,l.jsxs)("div",{className:"flex items-center text-xs bg-muted/40 rounded-md p-1.5 cursor-pointer hover:bg-muted/60",children:[(0,l.jsx)("div",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:t}}),(0,l.jsx)("span",{className:"truncate",children:e.title})]},e.id)})})]})]}):(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-[50vh] text-center p-4",children:[(0,l.jsx)("div",{className:"text-lg font-medium mb-2",children:c("noNodesYet")}),(0,l.jsx)("p",{className:"text-muted-foreground max-w-md",children:c("addFirstNodePrompt")})]})}}}]);